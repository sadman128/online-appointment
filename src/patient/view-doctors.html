<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Doctor Profiles</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
<main>
  <div class="login-container">
    <h2>Doctor Information</h2>
    <table id="doctorTable">
      <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Contact Number</th>
        <th>Start Hour</th>
        <th>End Hour</th>
        <th>Education</th>
        <th>Expertise</th>
      </tr>
      </thead>
      <tbody></tbody>
    </table>
    <button onclick="location.href='dashboard.html'">Back to Dashboard</button>
  </div>
</main>

<script>
  async function loadDoctorProfiles() {
    try {
      const response = await fetch('/patient/doctor-info');
      const doctors = await response.json();
      const tableBody = document.querySelector('#doctorTable tbody');

      tableBody.innerHTML = '';
      doctors.forEach(doc => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${doc.id}</td>
            <td>${doc.name}</td>
            <td>${doc.email}</td>
            <td>${doc.contact_number}</td>
            <td>${doc.start_time}</td>
            <td>${doc.end_time}</td>
            <td>${doc.education}</td>
            <td>${doc.expertise}</td>
          `;
        tableBody.appendChild(row);
      });
    } catch (error) {
      console.error('Error fetching doctor info:', error);
    }
  }

  loadDoctorProfiles();
</script>
</body>
</html>
